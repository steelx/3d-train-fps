[gd_scene load_steps=12 format=3 uid="uid://d2kvb4kiqg340"]

[ext_resource type="Script" path="res://scenes/player/Player.gd" id="1_ka5a7"]
[ext_resource type="PackedScene" uid="uid://b8nh6cyc5emw8" path="res://resources/Character.glb" id="2_iwhi1"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_u04fh"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_45ma8"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_kugvd"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_46b76"]
animation = &"Run"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_jflw6"]
blend_point_0/node = SubResource("AnimationNodeAnimation_kugvd")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_46b76")
blend_point_1/pos = 1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1m81y"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_nd274"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w6x0b"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_syggq"]
states/Jump/node = SubResource("AnimationNodeAnimation_45ma8")
states/Jump/position = Vector2(692, 58)
states/Run/node = SubResource("AnimationNodeBlendSpace1D_jflw6")
states/Run/position = Vector2(488, 117.648)
states/Start/position = Vector2(182.4, 99.68)
transitions = ["Start", "Run", SubResource("AnimationNodeStateMachineTransition_1m81y"), "Run", "Jump", SubResource("AnimationNodeStateMachineTransition_nd274"), "Jump", "Run", SubResource("AnimationNodeStateMachineTransition_w6x0b")]

[node name="Player" type="RigidBody3D"]
lock_rotation = true
linear_damp = 2.0
script = ExtResource("1_ka5a7")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_u04fh")

[node name="TwistPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)

[node name="PitchPivot" type="Node3D" parent="TwistPivot"]

[node name="Camera3D" type="Camera3D" parent="TwistPivot/PitchPivot"]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 1.16722, 2.89211)

[node name="Character" parent="." instance=ExtResource("2_iwhi1")]

[node name="Skeleton3D" parent="Character/KayKit Animated Character2" index="0"]
bones/2/rotation = Quaternion(-0.685863, -0.172023, 0.685863, -0.172022)
bones/3/rotation = Quaternion(0.606617, -0.606617, 0.36334, 0.36334)
bones/3/scale = Vector3(1, 1, 1)
bones/4/rotation = Quaternion(-0.685863, 0.172023, 0.685863, 0.172023)
bones/5/rotation = Quaternion(0.36334, -0.36334, 0.606617, 0.606617)
bones/5/scale = Vector3(1, 1, 1)

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_syggq")
anim_player = NodePath("../Character/AnimationPlayer")
active = true
parameters/Run/blend_position = 0.0

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)

[editable path="Character"]
