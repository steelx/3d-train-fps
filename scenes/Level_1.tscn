[gd_scene load_steps=19 format=3 uid="uid://c6e0m27wmiy7n"]

[ext_resource type="Script" path="res://scenes/Tracks.gd" id="1_2shtd"]
[ext_resource type="Material" uid="uid://csfdcdo2s8jaw" path="res://addons/kenney_prototype_tools/materials/orange/material_04.tres" id="2_51qy6"]
[ext_resource type="PackedScene" uid="uid://d2kvb4kiqg340" path="res://scenes/player/Player.tscn" id="2_glj7y"]
[ext_resource type="PackedScene" uid="uid://bihd5n7hpmbmu" path="res://scenes/objects/Brickwall.tscn" id="5_qjwvd"]
[ext_resource type="PackedScene" uid="uid://drm75x25k4rtr" path="res://scenes/objects/Shed.tscn" id="6_88aai"]
[ext_resource type="PackedScene" uid="uid://0fbmfl64jbyp" path="res://scenes/objects/Tree.tscn" id="7_agh6p"]
[ext_resource type="PackedScene" uid="uid://cccv8irl2q7ib" path="res://scenes/enemies/melee/DemogorgonEnemy.tscn" id="8_nvdra"]
[ext_resource type="Texture2D" uid="uid://dpncdebsfugii" path="res://resources/environment/grass_lowres.png" id="8_pvnw3"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_bw55b"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_2k6pd"]
sky_material = SubResource("ProceduralSkyMaterial_bw55b")

[sub_resource type="Environment" id="Environment_612hj"]
background_mode = 2
sky = SubResource("Sky_2k6pd")
ambient_light_source = 3
tonemap_mode = 2
volumetric_fog_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_d4aml"]
vertices = PackedVector3Array(-4.25, 0.493622, -25.9209, -4, 0.493622, -31.1709, -4.75, 0.493622, -31.4209, -7.5, 0.493622, -25.9209, -7.75, 0.493622, -23.9209, -7.5, 0.493622, -25.9209, -15.25, 0.493622, -49.6709, -26.75, 0.493622, -49.6709, -7.5, 0.493622, -25.9209, -4.75, 0.493622, -31.4209, -4.75, 0.493622, -32.1709, -38.25, 0.493622, -49.6709, -49.5, 0.493622, -49.6709, -49.5, 0.493622, -43.4209, -38.25, 0.493622, -49.6709, -49.5, 0.493622, -43.4209, -49.5, 0.493622, -36.9209, -4.75, 0.493622, -32.1709, -3.75, 0.493622, -32.9209, -3.75, 0.493622, -49.6709, -4.75, 0.493622, -32.1709, -3.75, 0.493622, -49.6709, -15.25, 0.493622, -49.6709, -7.5, 0.493622, -25.9209, -38.25, 0.493622, -49.6709, -49.5, 0.493622, -36.9209, -49.5, 0.493622, -30.4209, -38.25, 0.493622, -49.6709, -49.5, 0.493622, -30.4209, -49.5, 0.493622, -23.9209, -7.75, 0.493622, -23.9209, -26.75, 0.493622, -49.6709, -2.75, 0.493622, -31.4209, -4, 0.493622, -31.1709, -4.25, 0.493622, -25.9209, -2.5, 0.493622, -25.6709, -2.75, 0.493622, -32.4209, -2.5, 0.493622, -25.6709, 4, 0.493622, -18.6709, 15, 0.493622, -18.6709, 15, 0.493622, -49.6709, 5.5, 0.493622, -49.6709, -2.75, 0.493622, -32.4209, -2.75, 0.493622, -31.4209, -2.5, 0.493622, -25.6709, -2.5, 0.493622, -22.1709, -3, 0.493622, -21.9209, 3.75, 0.493622, -18.1709, 4, 0.493622, -18.6709, -3.75, 0.493622, -49.6709, -3.75, 0.493622, -32.9209, -2.75, 0.493622, -32.4209, 5.5, 0.493622, -49.6709, -2.5, 0.493622, -25.6709, -2.5, 0.493622, -22.1709, 4, 0.493622, -18.6709, 49.5, 0.493622, -41.6709, 49.5, 0.493622, -49.6709, 40.75, 0.493622, -49.6709, 49.5, 0.493622, -33.6709, 49.5, 0.493622, -41.6709, 40.75, 0.493622, -49.6709, 49.5, 0.493622, -33.6709, 40.75, 0.493622, -49.6709, 32.25, 0.493622, -49.6709, 49.5, 0.493622, -25.6709, 17, 0.493622, -18.6709, 17.25, 0.493622, -17.6709, 49.5, 0.493622, -17.6709, 49.5, 0.493622, -25.6709, 32.25, 0.493622, -49.6709, 23.5, 0.493622, -49.6709, 15, 0.493622, -49.6709, 15, 0.493622, -18.6709, 17, 0.493622, -18.6709, 23.5, 0.493622, -49.6709, -4, 6.24362, -32.1709, -3.25, 6.49362, -31.6709, -3.5, 6.24362, -32.4209, -6.75, 4.24362, -24.9209, -6.75, 4.24362, -22.9209, -3.5, 4.24362, -22.9209, -3.5, 4.24362, -24.9209, -6.75, 4.74362, -23.9209, -3.5, 4.74362, -23.9209, -6.5, 0.493622, -24.4209, -6.5, 0.493622, -23.4209, -3.75, 0.493622, -23.4209, -3.75, 0.493622, -24.4209, -49.5, 0.493622, 40.3291, -49.5, 0.493622, 49.5791, -39, 0.493622, 49.5791, -49.5, 0.493622, 31.0791, -49.5, 0.493622, 40.3291, -39, 0.493622, 49.5791, -49.5, 0.493622, 31.0791, -39, 0.493622, 49.5791, -28.5, 0.493622, 49.5791, -49.5, 0.493622, 21.8291, -7.25, 0.493622, -21.9209, -49.5, 0.493622, -5.67085, -49.5, 0.493622, 3.57915, -7.75, 0.493622, -22.1709, -7.75, 0.493622, -23.9209, -49.5, 0.493622, -23.9209, -49.5, 0.493622, 21.8291, -28.5, 0.493622, 49.5791, -18, 0.493622, 49.5791, -49.5, 0.493622, 12.8291, -7.25, 0.493622, -21.9209, -7.75, 0.493622, -22.1709, -49.5, 0.493622, -23.9209, -49.5, 0.493622, -14.9209, -7.25, 0.493622, -21.9209, -49.5, 0.493622, 3.57915, -49.5, 0.493622, 12.8291, -18, 0.493622, 49.5791, -7.25, 0.493622, 49.5791, -7.25, 0.493622, -21.9209, -49.5, 0.493622, -14.9209, -49.5, 0.493622, -5.67085, 4, 0.493622, -16.9209, 3.75, 0.493622, -18.1709, -3, 0.493622, -21.9209, -7.25, 0.493622, -21.9209, -7.25, 0.493622, 49.5791, -0.75, 0.493622, 49.5791, 6, 0.493622, 49.5791, 6, 0.493622, -16.9209, 4, 0.493622, -16.9209, -0.75, 0.493622, 49.5791, 38.5, 0.493622, 49.5791, 49.5, 0.493622, 49.5791, 49.5, 0.493622, 41.0791, 38.5, 0.493622, 49.5791, 49.5, 0.493622, 41.0791, 49.5, 0.493622, 32.5791, 27.75, 0.493622, 49.5791, 38.5, 0.493622, 49.5791, 49.5, 0.493622, 32.5791, 49.5, 0.493622, 24.0791, 49.5, 0.493622, -17.6709, 17.25, 0.493622, -17.6709, 17, 0.493622, -16.9209, 49.5, 0.493622, -9.42085, 49.5, 0.493622, 15.8291, 49.5, 0.493622, 7.32915, 17, 0.493622, -16.9209, 6, 0.493622, -16.9209, 6, 0.493622, 49.5791, 16.75, 0.493622, 49.5791, 49.5, 0.493622, 7.32915, 49.5, 0.493622, -0.920853, 17, 0.493622, -16.9209, 49.5, 0.493622, -0.920853, 49.5, 0.493622, -9.42085, 17, 0.493622, -16.9209, 27.75, 0.493622, 49.5791, 49.5, 0.493622, 24.0791, 49.5, 0.493622, 15.8291, 16.75, 0.493622, 49.5791)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(10, 9, 8), PackedInt32Array(13, 12, 11), PackedInt32Array(16, 15, 14), PackedInt32Array(19, 18, 17), PackedInt32Array(20, 23, 21), PackedInt32Array(21, 23, 22), PackedInt32Array(26, 25, 24), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 31), PackedInt32Array(29, 31, 30), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(39, 36, 41), PackedInt32Array(39, 41, 40), PackedInt32Array(44, 43, 42), PackedInt32Array(48, 47, 45), PackedInt32Array(45, 47, 46), PackedInt32Array(50, 49, 51), PackedInt32Array(51, 49, 52), PackedInt32Array(55, 54, 53), PackedInt32Array(58, 57, 56), PackedInt32Array(61, 60, 59), PackedInt32Array(63, 62, 64), PackedInt32Array(64, 62, 65), PackedInt32Array(66, 71, 67), PackedInt32Array(67, 71, 70), PackedInt32Array(67, 70, 69), PackedInt32Array(67, 69, 68), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 75), PackedInt32Array(78, 77, 76), PackedInt32Array(82, 84, 79), PackedInt32Array(79, 84, 83), PackedInt32Array(83, 84, 81), PackedInt32Array(83, 81, 80), PackedInt32Array(88, 87, 85), PackedInt32Array(85, 87, 86), PackedInt32Array(91, 90, 89), PackedInt32Array(94, 93, 92), PackedInt32Array(96, 95, 97), PackedInt32Array(97, 95, 98), PackedInt32Array(101, 100, 99), PackedInt32Array(104, 103, 102), PackedInt32Array(105, 108, 106), PackedInt32Array(106, 108, 107), PackedInt32Array(110, 109, 111), PackedInt32Array(111, 109, 112), PackedInt32Array(114, 113, 115), PackedInt32Array(115, 113, 116), PackedInt32Array(116, 113, 117), PackedInt32Array(120, 119, 118), PackedInt32Array(122, 121, 123), PackedInt32Array(123, 121, 124), PackedInt32Array(124, 121, 126), PackedInt32Array(124, 126, 125), PackedInt32Array(128, 127, 129), PackedInt32Array(129, 127, 130), PackedInt32Array(133, 132, 131), PackedInt32Array(136, 135, 134), PackedInt32Array(139, 138, 140), PackedInt32Array(140, 138, 137), PackedInt32Array(142, 141, 143), PackedInt32Array(143, 141, 144), PackedInt32Array(146, 145, 147), PackedInt32Array(147, 145, 148), PackedInt32Array(148, 145, 150), PackedInt32Array(148, 150, 149), PackedInt32Array(153, 152, 151), PackedInt32Array(156, 155, 154), PackedInt32Array(158, 157, 159), PackedInt32Array(159, 157, 160)]

[sub_resource type="Curve3D" id="Curve3D_jpwsj"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -8, 0, 0, 0, 0, 0, 0, 0, 0, -16, 0, 0, 3, 0, 0, 0, 0, 0, -24, -4, 0, 0, 4, 0, 0, 7, 0, -30, -6, 0, 0, 6, 0, 0, 24, 0, -24, -1, 0, 2, 1, 0, -2, 40, 0, -32, -1, 0, 5, 1, 0, -5, 48, 0, -48, 0, 0, 0, 0, 0, 0, 32, 0, -64),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 9

[sub_resource type="BoxMesh" id="BoxMesh_60tsv"]
material = ExtResource("2_51qy6")
size = Vector3(4, 0.25, 0.5)

[sub_resource type="MultiMesh" id="MultiMesh_0b3ep"]
transform_format = 1
mesh = SubResource("BoxMesh_60tsv")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h3n51"]
albedo_texture = ExtResource("8_pvnw3")
uv1_scale = Vector3(50, 50, 50)

[sub_resource type="PlaneMesh" id="PlaneMesh_0pbds"]
material = SubResource("StandardMaterial3D_h3n51")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_eygma"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0, -1, 1, 0, -1)

[node name="Level_1" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 42.0132, 0)
light_color = Color(0.952941, 0.945098, 0.890196, 1)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_612hj")

[node name="Player" parent="." instance=ExtResource("2_glj7y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.133, 1.85318, -29.8833)

[node name="DemogorgonEnemy" parent="." instance=ExtResource("8_nvdra")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_d4aml")

[node name="Environment" type="Node3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 0)

[node name="Tracks" type="Path3D" parent="NavigationRegion3D/Environment"]
curve = SubResource("Curve3D_jpwsj")
script = ExtResource("1_2shtd")
distance_between_planks = 2.0
metadata/_edit_lock_ = true

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="NavigationRegion3D/Environment/Tracks"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.065, 0, 0)
multimesh = SubResource("MultiMesh_0b3ep")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="NavigationRegion3D/Environment/Tracks"]
polygon = PackedVector2Array(1.10505, 0.00821537, 1.0996, 0.10763, 0.983237, 0.111022, 0.981031, -0.00337583)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="NavigationRegion3D/Environment/Tracks"]
polygon = PackedVector2Array(-1.105, 0.008, -1.1, 0.108, -0.983, 0.111, -0.981, -0.003)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="Brickwall" parent="NavigationRegion3D/Environment" instance=ExtResource("5_qjwvd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.5438, 0, -17.7364)

[node name="Brickwall2" parent="NavigationRegion3D/Environment" instance=ExtResource("5_qjwvd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.5459, 0, -17.7364)

[node name="Brickwall3" parent="NavigationRegion3D/Environment" instance=ExtResource("5_qjwvd")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.46117, 0, -17.7364)

[node name="Shed" parent="NavigationRegion3D/Environment" instance=ExtResource("6_88aai")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.19197, 0, -23.8041)

[node name="Tree" parent="NavigationRegion3D/Environment" instance=ExtResource("7_agh6p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.734, 0, -31.951)

[node name="Plane" type="MeshInstance3D" parent="NavigationRegion3D/Environment"]
transform = Transform3D(50, 0, 0, 0, 50, 0, 0, 0, 50, 0, 0, 0)
mesh = SubResource("PlaneMesh_0pbds")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Environment/Plane"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Environment/Plane/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_eygma")

[connection signal="curve_changed" from="NavigationRegion3D/Environment/Tracks" to="NavigationRegion3D/Environment/Tracks" method="_on_curve_changed"]
